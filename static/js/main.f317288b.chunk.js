(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{15:function(e,t,a){},17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(1),r=a.n(n),s=a(7),i=a.n(s),u=(a(15),a(8)),o=a(3),d=a.n(o),l=a(6),j=a(2),h=(a(17),a(9)),b=function(e){var t=e.setSearch,a=e.search,r=e.daily,s=e.allData,i=Object(n.useState)(),u=Object(j.a)(i,2),o=u[0],d=u[1],l=Object(n.useState)(),b=Object(j.a)(l,2),m=b[0],f=b[1],O=Object(n.useState)(""),p=Object(j.a)(O,2),x=p[0],v=p[1];return Object(n.useEffect)((function(){!function(){if(r){var e=r,t=new Date,a=new Date(t.getTime()).getDate(),c=Math.round(e[a][0].main.temp),n=e[a][0].weather[0].icon;f(c),v(n)}}()}),[r,s]),Object(c.jsxs)("div",{className:"search",children:[Object(c.jsxs)("div",{className:"current-city",children:[Object(c.jsx)("img",{className:"currentWeatherIcon",src:"http://openweathermap.org/img/wn/".concat(x,"@2x.png"),alt:"weather"}),Object(c.jsxs)("h4",{children:[m,"\xb0C ",a]})]}),Object(c.jsx)("div",{className:"searchBox",children:Object(c.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),t(o)}(e)},children:[Object(c.jsx)("input",{className:"searchInput",type:"text",placeholder:"Search location..",name:"search",onChange:function(e){return d(e.target.value)}}),Object(c.jsx)("button",{className:"searchButton",type:"submit",children:Object(c.jsx)(h.a,{className:"sIcon"})})]})})]})},m=function(e){var t=e.data,a=e.day,r=e.monthName,s=e.date,i=e.clickHandler,u=e.id,o=e.clicked,d=e.setClicked,l=Object(n.useState)(),h=Object(j.a)(l,2),b=h[0],m=h[1],f=Object(n.useState)(),O=Object(j.a)(f,2),p=O[0],x=O[1],v=Object(n.useState)(),y=Object(j.a)(v,2),g=y[0],w=y[1],N=Object(n.useState)("daily-item"),D=Object(j.a)(N,2),S=D[0],k=D[1];return Object(n.useEffect)((function(){!function(){if(t){for(var e=t[0].main.temp_max,a=0;a<t.length;a++){var c=t[a].main.temp_max;e<=c&&(e=c)}m(Math.round(e))}}(),function(){if(t){for(var e=t[0].main.temp_min,a=0;a<t.length;a++){var c=t[a].main.temp_min;e>=c&&(e=c)}x(Math.round(e))}}(),function(){if(t.length>1){var e=Math.round(t.length/2-1),a=t[e].weather[0].icon;w(a)}else{var c=t[0].weather[0].icon;w(c)}}(),d(0)}),[t]),Object(n.useEffect)((function(){k(u===o?"daily-item active":"daily-item")}),[o]),Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:S,onClick:function(){i(u)},children:[Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"headerDaily",children:[Object(c.jsx)("img",{className:"dailyIcon",src:"http://openweathermap.org/img/wn/".concat(g,"@2x.png"),alt:"weather"}),Object(c.jsx)("h4",{className:"day",children:a})]}),Object(c.jsxs)("h4",{children:[b,"\xb0C"]})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("p",{children:[s,". ",r]}),Object(c.jsxs)("p",{children:[p,"\xb0C"]})]})]})})},f=function(e){var t,a=e.hour;return function(){var e=a.dt_txt.split(" ").pop();t=e.substring(0,e.length-3)}(),Object(c.jsxs)("div",{className:"hour",children:[Object(c.jsx)("h4",{children:t}),Object(c.jsxs)("div",{children:[Object(c.jsx)("img",{alt:"icon",className:"hourlyIcon",src:"http://openweathermap.org/img/wn/".concat(a.weather[0].icon,"@2x.png")}),Object(c.jsxs)("h4",{children:[Math.round(a.main.temp),"\xb0C"]})]}),Object(c.jsxs)("h4",{children:["RealFeel\xae: ",Math.round(a.main.feels_like),"\xb0C "]}),Object(c.jsx)("h4",{children:a.weather[0].main}),Object(c.jsxs)("h4",{children:["Wind speed: ",Math.round(3.6*a.wind.speed)," km/h"]})]})},O=function(e){var t=e.hourlyData;return Object(c.jsx)("div",{className:"hourly",children:function(){if(t)return t.map((function(e){return Object(c.jsx)(f,{hour:e},e.dt)}))}()})},p=function(e){var t,a,r,s,i=e.daily,u=(e.allData,Object(n.useState)(0)),o=Object(j.a)(u,2),d=o[0],l=o[1],h=["January","February","March","April","May","June","July","August","September","October","November","December"],b=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday"];!function(){var e=new Date;t=e.getDay(),a=e.getMonth(),r=e.getDate()}();var f=function(e){l(e)};return Object(c.jsxs)("div",{className:"dailyContainer",children:[Object(c.jsx)("div",{className:"daily",children:Object(c.jsx)("div",{className:"daily_Weather",children:function(){if(i)return s=i[r+d],Object.keys(i).map((function(e,n){return Object(c.jsx)(m,{clickHandler:f,data:i[e],id:n,day:b[t+n],monthName:h[a],date:r+n,clicked:d,setClicked:l},n)}))}()})}),Object(c.jsx)(O,{hourlyData:s})]})};var x=function(){var e=Object(n.useState)("Ljubljana"),t=Object(j.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(),i=Object(j.a)(s,2),o=i[0],h=i[1],m=Object(n.useState)(),f=Object(j.a)(m,2),O=f[0],x=f[1],v={},y=function(){var e=Object(l.a)(d.a.mark((function e(){var t,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=new Date,864e5,a=0;a<6;a++)c=new Date(t.getTime()+864e5*a),v[c.getDate()]=[];case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){g()}),[a]);var g=function(){var e=Object(l.a)(d.a.mark((function e(){var t,c,n,r,s,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(),e.prev=1,e.next=4,fetch("https://api.openweathermap.org/data/2.5/forecast?q=".concat(a,"&units=metric&appid=").concat("af533ff5de5f96b4a9d160f95a8c26ae"),{mode:"cors"});case 4:if(!((t=e.sent).status>=400&&t.status<600)){e.next=7;break}throw Error("Coudnt find the city");case 7:return e.next=9,t.json();case 9:c=e.sent,n=c.list,w(c),r=Object(u.a)(n);try{for(r.s();!(s=r.n()).done;)i=s.value,o=new Date(1e3*i.dt).getDate(),v[o].push(i)}catch(d){r.e(d)}finally{r.f()}N(v),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),alert(e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(){return e.apply(this,arguments)}}(),w=function(e){x(e)},N=function(e){h(e)};return Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)(b,{setSearch:r,allData:O,search:a,daily:o}),Object(c.jsx)(p,{allData:O,daily:o})]})})};i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(x,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.f317288b.chunk.js.map